{% extends 'base.html' %}
{% load staticfiles i18n %}
{% load argus.tags %}

{% block title %}Discovered NE List{% endblock %}

{% block content %}
    <h1>Discovered NE List</h1>

    <form method="post">
        {% csrf_token %}
        <div class="form-row align-items-center">
            <div class="col-auto">
                {{ form.ip_or_subnet }}
            </div>
            <div class="col-auto">
                <div class="form-check mb-2 mb-sm-0">
                    {{ form.is_login_discovered.label_tag}}
                    {{ form.is_login_discovered }}
                </div>
            </div>
            <div class="col-auto">
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </form>


















    <p>Найдено: {{ row_count }}</p>
    {% if astu_list %}
        </div>
            <div class="container-fluid">
           <table class="table table-striped table-bordered table-hover table-sm">
                <thead>
                <tr>
                    <th>Hostname</th>
                    <th>IP</th>
                    <th>Производитель</th>
                    <th>Модель</th>
                    <th>Сегмент</th>
                    <th>Адрес</th>
                </tr>
                </thead>
                <tbody>

        {% for ne in astu_list %}
            <tr>
                <td>{{ ne.hostname }}{{ ne.status|status_badge }}
                {% if ne.is_online == True %}
                    <i class="fa fa-check text-success" title="online"></i>
                {% else %}
                    <i class="fa fa-times text-danger" title="offline"></i>
                {% endif %}
                </td>
                <td>{{ ne.ne_ip }}</td>
                <td>{{ ne.vendor }}</td>
                <td>{{ ne.model }}</td>
                <td>{{ ne.segment }}</td>
                <td>{{ ne.address }}</td>
            </tr>

        {% empty %}
            <p>Не найдено</p>
        {% endfor %}
                </tbody>
           </table>
        </div>
    {% endif %}

{% endblock %}

{% block javascript %}
    <script src="{% static 'js/popper.js' %}"></script>
    {{ block.super }}
    <script>
    $(function () {
      $('[data-toggle="tooltip"]').tooltip()
    })
    </script>

{% endblock %}
